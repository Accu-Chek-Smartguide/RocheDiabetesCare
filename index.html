<!DOCTYPE html>
<html>
<head>
    <title>RocheDiabetesCare</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/mrdoob/three.js/master/examples/js/loaders/RGBELoader.js"></script>
    <script src="https://cdn.rawgit.com/mrdoob/three.js/master/examples/js/pmrem/PMREMGenerator.js"></script>
    <script src="https://cdn.rawgit.com/mrdoob/three.js/master/examples/js/pmrem/PMREMCubeUVPacker.js"></script>
    <link rel="icon" href="https://logowik.com/content/uploads/images/798_roche.jpg" type="image/icon type">
    <link rel="stylesheet" href="Style/style.css">
</head>
<body>

    <div id="splash-screen" class="splash-screen">
        <img src="https://upload.wikimedia.org/wikipedia/commons/f/f5/Hoffmann-La_Roche_logo.svg" alt="Logo" class="logo">
    </div>

    <a-scene embedded arjs='trackingMethod: best; sourceType: webcam; debugUIEnabled: false;'>
        

       <a-sky id="hdr-sky" radius="5000"></a-sky>

        <a-marker type="pattern" url="https://raw.githubusercontent.com/BrunoSilvaCosta/RocheDiabetesCare/main/Images/Marker-custom.patt">
            <a-entity scale="1 1 1">
                <a-entity gltf-model="Model/TestJPG.gltf" scale="10 10 10"></a-entity>
                <a-entity gltf-model="Model/package.gltf" scale="10 10 10" position="0 0 0"></a-entity>
                <a-box position="0 0.5 0" opacity="0"></a-box>
                <a-plane rotation="-90 0 0" width="3" height="3" color="#ffffff"></a-plane>
            </a-marker>
        <a-entity camera></a-entity>
        
  <script>
        AFRAME.registerComponent("hdri-lighting", {
          init: function () {
            const sceneEl = this.el.sceneEl;
            const renderer = sceneEl.renderer;
            const hdrLoader = new THREE.RGBELoader();

            hdrLoader.load(
              "Images/HDRI/brown_photostudio_01_1k.hdr",
              function (texture) {
                texture.mapping = THREE.EquirectangularReflectionMapping;
                sceneEl.object3D.environment = texture;

                // Applique la map HDRI à la skybox
                document
                  .querySelector("#hdr-sky")
                  .setObject3D("mesh", new THREE.Mesh(
                    new THREE.SphereGeometry(5000, 60, 40),
                    new THREE.MeshBasicMaterial({ map: texture, side: THREE.BackSide })
                  ));
              }
            );
          },
        });

        // Ajoute le composant à la scène
        document.querySelector("a-scene").setAttribute("hdri-lighting", "");
      </script>
    </a-scene>

    <script src="Scripts/main.js"></script>
</body>
</html>
